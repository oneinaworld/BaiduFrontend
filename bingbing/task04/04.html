<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>04 队列练习</title>
	<style>
		ul li{
			display: inline-block;
			list-style-type: none;
			background-color: red;
			color:white;
			box-sizing: border-box;
			padding:0.5em;
			margin: 0 0.5em;
		}
	</style>
</head>
<body>
	<input type="text" id="data">
	<button id="leftin">左侧入</button>
	<button id="rightin">右侧入</button>
	<button id="leftout">左侧出</button>
	<button id="rightout">右侧出</button>
	<ul id="result"><li>56</li></ul>
	<script>
	function leftin(){
		var data=document.getElementById('data').value;
		if(isNaN(data)){
			alert('请输入数字。');
		}else{
			var result=document.getElementById('result');
			li=document.createElement('li');
			li.innerHTML=data;
			result.insertBefore(li,result.firstChild);
		}
	}
	function rightin(){
		var data=document.getElementById('data').value;
		if(isNaN(data)){
			alert('请输入数字。');
		}else{
			var result=document.getElementById('result');
			li=document.createElement('li');
			li.innerHTML=data;
			result.appendChild(li);
		}
	}
	function leftout(){
		var result=document.getElementById('result');
		var data=result.firstChild.innerText;
		alert("移除"+data);
		result.removeChild(result.firstChild);
	}
	function rightout(){
		var result=document.getElementById('result');
		var data=result.lastChild.innerText;
		alert("移除"+data);
		result.removeChild(result.lastChild);
	}

	document.getElementById('leftin').onclick=leftin;
	document.getElementById('rightin').onclick=rightin;
	document.getElementById('leftout').onclick=leftout;
	document.getElementById('rightout').onclick=rightout;

	// 点击ul中的元素，消失
	// 这种方式对页面加载后添加的数字无效
	// 但https://github.com/DogIdea/baiduife/blob/master/js4.html这里是这样写的，有效，为什么？
	// (function(){
	// 	var result=document.getElementById('result');
	// 	var lis=result.getElementsByTagName("li");
	// 	for(var i=0;i<lis.length;i++){
	//     	lis[i].addEventListener( "click",function(){
	//     	result.removeChild(this);
 //        })
 //      }
	// })()
	(function(){
		var result=document.getElementById('result');
		// 以下是借鉴的https://github.com/smallstar92/baidutask-2017/blob/gh-pages/binbinxueyuan/task4/scripts/task_1_4_1.js
        result.addEventListener("click",function(e){
		var event = window.event || e;
		if(event.target.nodeName.toLowerCase()=="li"){
		    result.removeChild(event.target);
		}
		})
	})()
	</script>
</body>
</html>